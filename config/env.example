# =============================================================================
# КОНФИГУРАЦИЯ ОКРУЖЕНИЯ
# Кастомное Activity «Согласование через Telegram» для Битрикс24
# =============================================================================

# =============================================================================
# BACKEND-СЕРВИС
# =============================================================================

# Порт для backend-сервиса
BACKEND_PORT=3000

# Секретный ключ для подписи запросов
BACKEND_SECRET=your-super-secret-key-change-this

# URL для webhook от Telegram
BACKEND_WEBHOOK_URL=https://your-domain.com/webhook

# =============================================================================
# БАЗА ДАННЫХ
# =============================================================================

# MySQL
DATABASE_HOST=localhost
DATABASE_PORT=3306
DATABASE_NAME=telegram_approval
DATABASE_USER=telegram_user
DATABASE_PASSWORD=your-database-password

# Или PostgreSQL
# DATABASE_URL=postgresql://user:password@localhost:5432/telegram_approval

# =============================================================================
# TELEGRAM BOT
# =============================================================================

# Токен бота от @BotFather
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# Имя бота (для логирования)
TELEGRAM_BOT_NAME=YourApprovalBot

# =============================================================================
# БИТРИКС24
# =============================================================================

# URL портала Битрикс24
B24_PORTAL_URL=https://your-portal.bitrix24.ru

# Webhook для отправки событий обратно в БП
B24_WEBHOOK_URL=https://your-portal.bitrix24.ru/rest/1/webhook/

# Токен для аутентификации запросов от Б24
B24_AUTH_TOKEN=your-bitrix24-auth-token

# =============================================================================
# ЛОГИРОВАНИЕ
# =============================================================================

# Уровень логирования (debug, info, warn, error)
LOG_LEVEL=info

# Путь к файлам логов
LOG_PATH=./logs

# Максимальный размер файла лога (в МБ)
LOG_MAX_SIZE=10

# Количество файлов логов для хранения
LOG_MAX_FILES=5

# =============================================================================
# БЕЗОПАСНОСТЬ
# =============================================================================

# Секретный ключ для JWT токенов
JWT_SECRET=your-jwt-secret-key-change-this

# Время жизни токена (в секундах)
JWT_EXPIRES_IN=3600

# Rate limiting (запросов в минуту)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000

# =============================================================================
# НАСТРОЙКИ СОГЛАСОВАНИЯ
# =============================================================================

# Таймаут ожидания ответа (в часах)
APPROVAL_TIMEOUT_HOURS=24

# Максимальное количество согласантов
MAX_APPROVERS=10

# Разрешить повторные ответы (true/false)
ALLOW_DUPLICATE_RESPONSES=false

# =============================================================================
# УВЕДОМЛЕНИЯ
# =============================================================================

# Отправлять уведомления о таймауте
NOTIFY_ON_TIMEOUT=true

# Отправлять уведомления о завершении
NOTIFY_ON_COMPLETE=true

# =============================================================================
# РЕЖИМ РАЗРАБОТКИ
# =============================================================================

# Режим разработки (true/false)
NODE_ENV=development

# Отладочный режим (true/false)
DEBUG=false

# Автоперезагрузка при изменениях (true/false)
AUTO_RELOAD=true
