# üéØ –ë–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
## –ö–∞—Å—Ç–æ–º–Ω–æ–µ Activity ¬´–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram¬ª –¥–ª—è –ë–∏—Ç—Ä–∏–∫—Å24

---

## üìã –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–±–æ—Ç–∞ —Å –æ–¥–Ω–∏–º —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–æ–º

### 1.1 –ë–∞–∑–æ–≤—ã–π flow —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è

#### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞—Ü–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
**–¢—Ä–∏–≥–≥–µ—Ä:** –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —à–∞–≥–∞ "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram"

**–î–µ–π—Å—Ç–≤–∏—è:**
1. Activity –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–ü:
   - ID –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
   - ID —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë24)
   - –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–Ω–æ–ø–æ–∫
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

2. Activity —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ backend-—Å–µ—Ä–≤–∏—Å—É:
   ```json
   {
     "b24_activity_id": "activity_123",
     "b24_process_id": "process_456", 
     "b24_document_id": "doc_789",
     "assignees": [
       {
         "b24_user_id": 123,
         "telegram_user_id": 456789012
       }
     ],
     "message": {
       "text": "–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç {=Document:ID}",
       "button1": {
         "text": "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ",
         "code": "approve"
       },
       "button2": {
         "text": "–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ", 
         "code": "reject"
       }
     },
     "settings": {
       "approval_mode": "single",
       "timeout_hours": 24
     }
   }
   ```

#### –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ backend-—Å–µ—Ä–≤–∏—Å–µ
**–î–µ–π—Å—Ç–≤–∏—è:**
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –º–∞–ø–ø–∏–Ω–≥–µ –ë24 ‚Üî Telegram
3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î (`approval_requests`)
4. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞ (`approval_assignees`)
5. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram

#### –®–∞–≥ 3: –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
**–î–µ–π—Å—Ç–≤–∏—è:**
1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –≤ –ë24
3. –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Telegram Bot API
4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏

**–ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

[–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ] [–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ]
```

#### –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
**–í–∞—Ä–∏–∞–Ω—Ç A: –û—Ç–≤–µ—Ç –∫–Ω–æ–ø–∫–æ–π**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É
2. Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `callback_query`
3. Backend –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –ë–î
5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram

**–í–∞—Ä–∏–∞–Ω—Ç B: –û—Ç–≤–µ—Ç —Ç–µ–∫—Å—Ç–æ–º**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `message`
3. Backend –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç
4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ)
5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –ë–î

#### –®–∞–≥ 5: –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ –ë–ü
**–î–µ–π—Å—Ç–≤–∏—è:**
1. Backend –≤—ã–∑—ã–≤–∞–µ—Ç `OnExternalEvent` –≤ –ë24
2. –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
   ```php
   $arEventParameters = array(
       'ACTIVITY_ID' => 'activity_123',
       'RESULT_CODE' => 'approve|reject',
       'RESULT_LABEL' => '–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ|–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ',
       'COMMENT' => '–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)',
       'RESPONDED_BY' => '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
       'RESPONDED_AT' => '2024-01-15 14:30:00',
       'APPROVAL_ID' => 'uuid_approval'
   );
   ```

3. Activity –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
4. –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è

### 1.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

#### –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–π
**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è:**
- "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ"
- "–°–æ–≥–ª–∞—Å–µ–Ω" 
- "–û–¥–æ–±—Ä—è—é"
- "–î–∞"
- "OK"
- "–•–æ—Ä–æ—à–æ"

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:**
- "–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ"
- "–ù–µ —Å–æ–≥–ª–∞—Å–µ–Ω"
- "–û—Ç–∫–ª–æ–Ω—è—é"
- "–ù–µ—Ç"
- "–û—Ç–∫–∞–∑–∞—Ç—å"
- "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"

#### –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
1. **–¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ:** –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
2. **–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ:** –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
3. **–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç:** –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ ‚Üí –∑–∞–ø—Ä–æ—Å —É—Ç–æ—á–Ω–µ–Ω–∏—è

#### –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
```
"–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" ‚Üí RESULT_CODE: "approve"
"–°–æ–≥–ª–∞—Å–µ–Ω —Å —É—Å–ª–æ–≤–∏—è–º–∏" ‚Üí RESULT_CODE: "approve", COMMENT: "–°–æ–≥–ª–∞—Å–µ–Ω —Å —É—Å–ª–æ–≤–∏—è–º–∏"
"–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ, –µ—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è" ‚Üí RESULT_CODE: "reject", COMMENT: "–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ, –µ—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è"
"–ü–æ—Å–º–æ—Ç—Ä—é –ø–æ–∑–∂–µ" ‚Üí –ó–∞–ø—Ä–æ—Å —É—Ç–æ—á–Ω–µ–Ω–∏—è
```

### 1.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞
- **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 24 —á–∞—Å–∞
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ:** –æ—Ç 1 —á–∞—Å–∞ –¥–æ 7 –¥–Ω–µ–π
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –∑–∞ 1 —á–∞—Å –¥–æ —Ç–∞–π–º–∞—É—Ç–∞

#### –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ:** –ü–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
2. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ —á–∞—Å
3. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** RESULT_CODE: "timeout"

#### –ü—Ä–∏–º–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ç–∞–π–º–∞—É—Ç–µ
```
‚ö†Ô∏è –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏

–î–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏" –æ–∂–∏–¥–∞–µ—Ç –≤–∞—à–µ–≥–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è.
–í—Ä–µ–º—è –Ω–∞ –æ—Ç–≤–µ—Ç –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 1 —á–∞—Å.

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

[–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ] [–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ]
```

### 1.4 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### –¢–∏–ø—ã –æ—à–∏–±–æ–∫
1. **–û—à–∏–±–∫–∏ —Å–µ—Ç–∏:**
   - –ü–æ—Ç–µ—Ä—è —Å–≤—è–∑–∏ —Å backend-—Å–µ—Ä–≤–∏—Å–æ–º
   - –ü–æ—Ç–µ—Ä—è —Å–≤—è–∑–∏ —Å Telegram API
   - –¢–∞–π–º–∞—É—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤

2. **–û—à–∏–±–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
   - –ù–µ–≤–µ—Ä–Ω—ã–π Telegram ID
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

3. **–û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
   - –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
   - –ò—Å—Ç–µ–∫—à–∏–π —Ç–æ–∫–µ–Ω
   - –ù–µ–≤–µ—Ä–Ω–∞—è –ø–æ–¥–ø–∏—Å—å

#### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
1. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏:** 3 –ø–æ–ø—ã—Ç–∫–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
2. **Fallback:** –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ê–ª–µ—Ä—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º

### 1.5 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram

#### –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞
**–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚úÖ

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, 15.01.2024 14:30)
```

#### –ü—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ
**–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚è∞

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

‚è∞ –í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ (15.01.2024 18:00)
```

### 1.6 –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤ –º–∞–ø–ø–∏–Ω–≥–µ –ë24 ‚Üî Telegram
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É

2. **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ Telegram ID
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–¥–æ–≤ –∫–Ω–æ–ø–æ–∫

#### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```javascript
logger.security('Approval response attempt', {
    approvalId: 'uuid',
    telegramUserId: 456789012,
    response: 'approve',
    timestamp: '2024-01-15T14:30:00Z',
    ip: '192.168.1.1'
});
```

---

## üìã –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞–º–∏

### 2.1 –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞–º–∏

#### –†–µ–∂–∏–º 2.1.1: "–ñ–¥–∞—Ç—å –≤—Å–µ—Ö" (multiple_wait_all)
**–õ–æ–≥–∏–∫–∞:** –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –≤—Å–µ—Ö —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–æ–≤

**–ü—Ä–∞–≤–∏–ª–∞:**
- –í—Å–µ —Å–æ–≥–ª–∞—Å–∞–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–≤–µ—Ç–∏—Ç—å
- –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –æ—Ç–∫–ª–æ–Ω–∏–ª ‚Üí –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç "reject"
- –ï—Å–ª–∏ –≤—Å–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏ ‚Üí –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç "approve"
- –ü—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ –ª—é–±–æ–≥–æ —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞ ‚Üí –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç "timeout"

#### –†–µ–∂–∏–º 2.1.2: "–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç" (multiple_first)
**–õ–æ–≥–∏–∫–∞:** –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ–≥–ª–∞—Å–∞–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –æ—Ç–≤–µ—á–∞—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –ü—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ ‚Üí –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç "timeout"

### 2.2 –î–µ—Ç–∞–ª—å–Ω—ã–π flow –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–æ–≤

#### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞—Ü–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
**–ó–∞–ø—Ä–æ—Å –æ—Ç Activity:**
```json
{
  "b24_activity_id": "activity_123",
  "b24_process_id": "process_456", 
  "b24_document_id": "doc_789",
  "assignees": [
    {
      "b24_user_id": 123,
      "telegram_user_id": 456789012
    },
    {
      "b24_user_id": 124,
      "telegram_user_id": 456789013
    },
    {
      "b24_user_id": 125,
      "telegram_user_id": 456789014
    }
  ],
  "message": {
    "text": "–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç {=Document:ID}",
    "button1": {
      "text": "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ",
      "code": "approve"
    },
    "button2": {
      "text": "–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ", 
      "code": "reject"
    }
  },
  "settings": {
    "approval_mode": "multiple_wait_all",
    "timeout_hours": 24
  }
}
```

#### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î
**–¢–∞–±–ª–∏—Ü–∞ `approval_requests`:**
```sql
INSERT INTO approval_requests (
    b24_activity_id, b24_process_id, b24_document_id,
    message_text, button1_text, button1_code, button2_text, button2_code,
    approval_mode, status, created_at
) VALUES (
    'activity_123', 'process_456', 'doc_789',
    '–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789', '–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ', 'approve', '–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ', 'reject',
    'multiple_wait_all', 'pending', NOW()
);
```

**–¢–∞–±–ª–∏—Ü–∞ `approval_assignees`:**
```sql
INSERT INTO approval_assignees (
    approval_request_id, b24_user_id, telegram_user_id, status
) VALUES 
    (1, 123, 456789012, 'pending'),
    (1, 124, 456789013, 'pending'),
    (1, 125, 456789014, 'pending');
```

#### –®–∞–≥ 3: –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—Å–µ–º —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞–º
**–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ:**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (1/3)

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

–°–æ–≥–ª–∞—Å–∞–Ω—Ç—ã: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤
–†–µ–∂–∏–º: –ñ–¥–∞—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤—Å–µ—Ö

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

[–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ] [–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ]
```

### 2.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ "–ñ–¥–∞—Ç—å –≤—Å–µ—Ö"

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2.3.1: –í—Å–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤:**
1. **–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤** ‚Üí "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (14:30)
2. **–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤** ‚Üí "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (15:45)
3. **–°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤** ‚Üí "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (16:20)

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚úÖ

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

–°–æ–≥–ª–∞—Å–∞–Ω—Ç—ã: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤
–†–µ–∂–∏–º: –ñ–¥–∞—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤—Å–µ—Ö

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

‚úÖ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (14:30)
‚úÖ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (15:45)
‚úÖ –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (16:20)

üéâ –í—Å–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏! –î–æ–∫—É–º–µ–Ω—Ç –æ–¥–æ–±—Ä–µ–Ω.
```

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```php
$arEventParameters = array(
    'ACTIVITY_ID' => 'activity_123',
    'RESULT_CODE' => 'approve',
    'RESULT_LABEL' => '–í—Å–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏',
    'COMMENT' => '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤ —Å–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏',
    'RESPONDED_BY' => '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤',
    'RESPONDED_AT' => '2024-01-15 16:20:00',
    'APPROVAL_ID' => 'uuid_approval'
);
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2.3.2: –û–¥–∏–Ω –æ—Ç–∫–ª–æ–Ω–∏–ª
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤:**
1. **–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤** ‚Üí "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (14:30)
2. **–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤** ‚Üí "–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (15:45)
3. **–°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤** ‚Üí "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (16:20)

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚ùå

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

–°–æ–≥–ª–∞—Å–∞–Ω—Ç—ã: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤
–†–µ–∂–∏–º: –ñ–¥–∞—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤—Å–µ—Ö

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

‚úÖ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (14:30)
‚ùå –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ - –ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (15:45)
‚úÖ –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (16:20)

üö´ –î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞.
```

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```php
$arEventParameters = array(
    'ACTIVITY_ID' => 'activity_123',
    'RESULT_CODE' => 'reject',
    'RESULT_LABEL' => '–û—Ç–∫–ª–æ–Ω–µ–Ω –ü–µ—Ç—Ä–æ–º –ü–µ—Ç—Ä–æ–≤—ã–º',
    'COMMENT' => '–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤: –ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ',
    'RESPONDED_BY' => '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤',
    'RESPONDED_AT' => '2024-01-15 16:20:00',
    'APPROVAL_ID' => 'uuid_approval'
);
```

### 2.4 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ "–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç"

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2.4.1: –ü–µ—Ä–≤—ã–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–ª
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. **–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤** ‚Üí "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (14:30) ‚Üê **–ü–ï–†–í–´–ô –û–¢–í–ï–¢**
2. **–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤** ‚Üí –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ (15:45) ‚Üê **–ë–õ–û–ö–ò–†–û–í–ê–ù–û**
3. **–°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤** ‚Üí –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ (16:20) ‚Üê **–ë–õ–û–ö–ò–†–û–í–ê–ù–û**

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚úÖ

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

–°–æ–≥–ª–∞—Å–∞–Ω—Ç—ã: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤
–†–µ–∂–∏–º: –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

‚úÖ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (14:30) ‚Üê –ü–ï–†–í–´–ô
‚è∏ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
‚è∏ –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤ - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

üéâ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –î–æ–∫—É–º–µ–Ω—Ç –æ–¥–æ–±—Ä–µ–Ω.
```

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã–º —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞–º:**
```
‚ÑπÔ∏è –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

–î–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏" —É–∂–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤—ã–º.
–í–∞—à –æ—Ç–≤–µ—Ç –±–æ–ª—å—à–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2.4.2: –ü–µ—Ä–≤—ã–π –æ—Ç–∫–ª–æ–Ω–∏–ª
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. **–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤** ‚Üí "–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" (15:45) ‚Üê **–ü–ï–†–í–´–ô –û–¢–í–ï–¢**
2. **–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤** ‚Üí –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ (16:20) ‚Üê **–ë–õ–û–ö–ò–†–û–í–ê–ù–û**
3. **–°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤** ‚Üí –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ (17:00) ‚Üê **–ë–õ–û–ö–ò–†–û–í–ê–ù–û**

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚ùå

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

–°–æ–≥–ª–∞—Å–∞–Ω—Ç—ã: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤
–†–µ–∂–∏–º: –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

‚è∏ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
‚ùå –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ - –ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (15:45) ‚Üê –ü–ï–†–í–´–ô
‚è∏ –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤ - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

üö´ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω.
```

### 2.5 –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

#### –ü–æ–ª–∏—Ç–∏–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

**–î–ª—è —Ä–µ–∂–∏–º–∞ "–ñ–¥–∞—Ç—å –≤—Å–µ—Ö":**
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:** –õ—é–±–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ = –∏—Ç–æ–≥–æ–≤–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤:** –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ –æ—Ç–≤–µ—Ç—ã —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ:** –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –∫—Ç–æ –∏–º–µ–Ω–Ω–æ –æ—Ç–∫–ª–æ–Ω–∏–ª

**–î–ª—è —Ä–µ–∂–∏–º–∞ "–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç":**
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–≤–æ–≥–æ:** –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö:** –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

#### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π

**–°–∏—Ç—É–∞—Ü–∏—è 1: –†–∞–∑–Ω—ã–µ –º–Ω–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ "–ñ–¥–∞—Ç—å –≤—Å–µ—Ö"**
```
–û—Ç–≤–µ—Ç—ã:
- –ò–≤–∞–Ω: "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" + "–í—Å–µ —É—Å–ª–æ–≤–∏—è —É—Å—Ç—Ä–∞–∏–≤–∞—é—Ç"
- –ü–µ—Ç—Ä: "–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" + "–¶–µ–Ω–∞ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è"
- –°–∏–¥–æ—Ä: "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" + "–ú–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å"

–†–µ–∑—É–ª—å—Ç–∞—Ç: REJECT
–ü—Ä–∏—á–∏–Ω–∞: –ü–µ—Ç—Ä –æ—Ç–∫–ª–æ–Ω–∏–ª –∏–∑-–∑–∞ —Ü–µ–Ω—ã
```

**–°–∏—Ç—É–∞—Ü–∏—è 2: –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç –≤ —Ä–µ–∂–∏–º–µ "–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç"**
```
–û—Ç–≤–µ—Ç—ã:
- –ü–µ—Ç—Ä: "–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" + "–ù—É–∂–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è" ‚Üê –ü–ï–†–í–´–ô
- –ò–≤–∞–Ω: "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" + "–í—Å–µ —Ö–æ—Ä–æ—à–æ" ‚Üê –ò–ì–ù–û–†–ò–†–û–í–ê–ù–û
- –°–∏–¥–æ—Ä: "–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ" + "–û–¥–æ–±—Ä—è—é" ‚Üê –ò–ì–ù–û–†–ò–†–û–í–ê–ù–û

–†–µ–∑—É–ª—å—Ç–∞—Ç: REJECT
–ü—Ä–∏—á–∏–Ω–∞: –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç –ü–µ—Ç—Ä–∞
```

### 2.6 –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–æ–≤

#### –¢–∞–π–º–∞—É—Ç –≤ —Ä–µ–∂–∏–º–µ "–ñ–¥–∞—Ç—å –≤—Å–µ—Ö"
**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–æ–≥–ª–∞—Å–∞–Ω—Ç –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª –≤ —Å—Ä–æ–∫ ‚Üí –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç "timeout"
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Ç–∞–π–º–∞—É—Ç–µ –≤—Å–µ–º —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–æ —Ç–∞–π–º–∞—É—Ç–∞

**–ü—Ä–∏–º–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ç–∞–π–º–∞—É—Ç–µ:**
```
‚è∞ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–µ–∫–ª–æ

–î–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏" –Ω–µ –±—ã–ª —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω –≤ —Å—Ä–æ–∫.

–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–æ–≤:
‚úÖ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (14:30)
‚ùå –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ - –ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (15:45)
‚è∞ –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤ - –ù–µ –æ—Ç–≤–µ—Ç–∏–ª (—Ç–∞–π–º–∞—É—Ç)

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]
```

#### –¢–∞–π–º–∞—É—Ç –≤ —Ä–µ–∂–∏–º–µ "–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç"
**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª –≤ —Å—Ä–æ–∫ ‚Üí –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç "timeout"
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤—Å–µ–º —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞–º
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2.7 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

#### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
**–î–ª—è —Ä–µ–∂–∏–º–∞ "–ñ–¥–∞—Ç—å –≤—Å–µ—Ö":**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (2/3)

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

–ü—Ä–æ–≥—Ä–µ—Å—Å: 2 –∏–∑ 3 –æ—Ç–≤–µ—Ç–∏–ª–∏

‚úÖ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (14:30)
‚úÖ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ (15:45)
‚è≥ –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤ - –û–∂–∏–¥–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

[–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ] [–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ]
```

**–î–ª—è —Ä–µ–∂–∏–º–∞ "–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç":**
```
üìã –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç #789 "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏"

–†–µ–∂–∏–º: –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç
–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

‚è≥ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ - –û–∂–∏–¥–∞–µ—Ç
‚è≥ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ - –û–∂–∏–¥–∞–µ—Ç  
‚è≥ –°–∏–¥–æ—Ä –°–∏–¥–æ—Ä–æ–≤ - –û–∂–∏–¥–∞–µ—Ç

[–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ë24]

[–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ] [–ù–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ]
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–æ–≤

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
1. **–í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:** –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
2. **–í—Ä–µ–º—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** –û–±—â–µ–µ –≤—Ä–µ–º—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
3. **–ü—Ä–æ—Ü–µ–Ω—Ç —É—á–∞—Å—Ç–∏—è:** –î–æ–ª—è –æ—Ç–≤–µ—Ç–∏–≤—à–∏—Ö —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–æ–≤
4. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–∞–º
5. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç–Ω–æ—Å—Ç—å:** –ß–∞—Å—Ç–æ—Ç–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

### –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
```javascript
const multiMetrics = {
    firstResponseTime: firstResponse.timestamp - approval.createdAt,
    totalResponseTime: lastResponse.timestamp - approval.createdAt,
    participationRate: respondedCount / totalAssignees,
    conflictRate: conflictsCount / totalApprovals,
    averageResponsesPerApproval: totalResponses / totalApprovals
};
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–≥–ª–∞—Å–∞–Ω—Ç–æ–≤**
2. **–°–æ–∑–¥–∞—Ç—å JSON-—Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤**
3. **–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤**
4. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏**
